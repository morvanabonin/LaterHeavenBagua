<!DOCTYPE HTML>
<html>
    <head>
        <title>Later Heaven Bagua</title>
        <LINK href="estilo.css" rel="stylesheet" type="text/css">
    </head>
    <body>
    <div class="geral" id="geral">
		<div id="title">LATER HEAVEN BAGUA</div>
        <?xml version="1.1"?> 
        <svg xmlns="http://www.w3.org/2000/svg" 
        xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="800">
        <desc>Octagono</desc>
        <title>Formas basicas - Octagono</title>
            <!--coordenadas x, y
                    stroke == pen-->
            <polyline fill="none" stroke-width="2" stroke="#000"
                              points="250,0 550,0 800,250 800,550 550,800 250,800 0,550 0,250 250,0" />

            <polyline fill="none" stroke-width="2" stroke="#000" 
                              points="260,20 540,20 780,260 780,540 540,780 260,780 20,540 20,260 260,20" />
        </svg>
        <div id="trapeze" class="trapeze" title="Fire"> 
            <audio class="audio" preload="auto">
                <source src="sounds/fire.mp3" type="audio/mp3" />
                <source src="sounds/fire.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio> 
            <div id="stripe"></div>
            <div id="stripeTwo"></div>
            <div id="stripeThree"></div>
        </div>
        <div id="trapeze_two" class="trapeze" title="Water">
            <audio class="audio" preload="auto">
                <source src="sounds/water.mp3" type="audio/mp3" />
                <source src="sounds/water.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeFour"></div>
            <div id="stripeFive"></div>
            <div id="stripeSix"></div>
            <div id="stripeSeven"></div>
        </div>
        <div id="trapeze_three" class="trapeze" title="Earth">
            <audio class="audio" preload="auto">
                <source src="sounds/earth.mp3" type="audio/mp3" />
                <source src="sounds/earth.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeEight"></div>
            <div id="stripeNine"></div>
            <div id="stripeTen"></div>
        </div>
        <div id="trapeze_four" class="trapeze" title="Heaven">
            <audio class="audio" preload="auto">
                <source src="sounds/heaven.mp3" type="audio/mp3" />
                <source src="sounds/heaven.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeEleven"></div>
            <div id="stripeTwelve"></div>
        </div>
        <div id="trapeze_five" class="trapeze" title="Lake">
            <audio class="audio" preload="auto">
                <source src="sounds/lake.mp3" type="audio/mp3" />
                <source src="sounds/lake.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeThirteen"></div>
            <div id="stripeFourteen"></div>
            <div id="stripeFifteen"></div>
        </div>
        <div id="trapeze_six" class="trapeze" title="Wind">
            <audio class="audio" preload="auto">
                <source src="sounds/wind.mp3" type="audio/mp3" />
                <source src="sounds/wind.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeSixteen"></div>
            <div id="stripeSeventeen"></div>
            <div id="stripeEighteen"></div>
        </div>
        <div id="trapeze_seven" class="trapeze" title="Thunder">
            <audio class="audio" preload="auto">
                <source src="sounds/thunder.mp3" type="audio/mp3" />
                <source src="sounds/thunder.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeNineteen"></div>
            <div id="stripeTwenty"></div>
            <div id="stripeTwentyOne"></div>
        </div>
        <div id="trapeze_eight" class="trapeze" title="Mountain">
            <audio class="audio" preload="auto">
				<source src="sounds/mountain.mp3" type="audio/mp3" />
                <source src="sounds/mountain.ogg" type="audio/ogg" />
                <p>Your browser does not support the audio tag.</p>
                <p>Seu navegador não suporta o elemento audio da HTML5.</p>
            </audio>
            <div id="stripeTwentyTwo"></div>
            <div id="stripeTwentyThree"></div>
            <div id="stripeTwentyFour"></div>
        </div>
            <?xml version="1.1"?>
            <svg class="svg" id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="250" height="250">
                <defs>
                    <path id="y" d="m 425,25 c 110.4,0 200,89.6 200,200 0,110.4 -89.6,200 -200,200 -110.4,0 -200,89.6 -200,200 0,110.4 89.6,200 200,200 C 645.8,825 825,645.8 825,425 825,204.2 645.8,25 425,25 z m 0,537.5 c 34.5,0 62.5,28 62.5,62.5 0,34.5 -28,62.5 -62.5,62.5 -34.5,0 -62.5,-28 -62.5,-62.5 0,-34.5 28,-62.5 62.5,-62.5 z"/>
                    <path id="d" d="m 450,200 c 0,27.61424 -22.38576,50 -50,50 -27.61424,0 -50,-22.38576 -50,-50 0,-27.61424 22.38576,-50 50,-50 27.61424,0 50,22.38576 50,50 z"/>
                    <filter id="f">
                        <feGaussianBlur stdDeviation="12.375"/>
                    </filter>
                </defs>
                <g transform="translate(17.2,-617.2)">
                    <g transform="matrix(0.28267752,0,0,0.28267752,-12.337947,622.06205)">
                        <path transform="translate(25,25)" d="M 800,400 C 800,620.9139 620.9139,800 400,800 179.0861,800 0,620.9139 0,400 0,179.0861 179.0861,0 400,0 620.9139,0 800,179.0861 800,400 z" style="opacity:0.5;fill:#7f7f7f;stroke:#7f7f7f;stroke-width:25;filter:url(#f)"/>
                        <g transform="matrix(-1,0,0,-1,850,850)">
                            <g fill="#000" transform="matrix(-1,0,0,-1,825,825)">
                                <use xlink:href="#y" transform="translate(-25,-25)"/>
                                <use xlink:href="#d" transform="matrix(1.25,0,0,1.25,-100,-50)"/>
                            </g>
                            <g fill="#fff">
                                <use xlink:href="#y"/>
                                <use xlink:href="#d" transform="matrix(1.25,0,0,-1.25,-75,475)"/>
                            </g>
                            <!-- div encapsulation, without it the audio does not work. -->
                             <div id="encapsulation">
                                <audio id="audio" preload="auto">
                                    <source src="sounds/central.mp3" type="audio/mp3" />
                                    <source src="sounds/central.ogg" type="audio/ogg" />
                                    <p>Your browser does not support the audio tag.</p>
                                    <p>Seu navegador não suporta o elemento audio da HTML5.</p>
                                </audio> 
                            </div>
                        </g>
                    </g>
                </g>
           
            </svg>
            <div id="credits">Sound effects obtained from <a href="http://www.freesfx.co.uk" target="_blank">http://www.freesfx.co.uk</a><br />
			and <a href="http://mp3skull.com/" target="_blank">http://mp3skull.com/</a>
			</div>
        </div>
		
    </body>
    <script>
	
    var nodeListAudio = document.getElementsByClassName('audio'); 

    function trapezeSound() {  

		
		var nodeListTrapeze = document.getElementsByClassName('trapeze'); 
		for (x = 0; x < nodeListTrapeze.length;x++){
			// for each node in the list, let's set its index
			nodeListTrapeze[x].setAttribute('index', x);
			
			// let's add the event listener for each node
			nodeListTrapeze[x].addEventListener('mouseover', function(event) {
				// get the current node index attribute
				var idx= this.getAttribute('index');
				// plays the audio
				nodeListAudio[idx].play();
				
			}, false);

			nodeListTrapeze[x].addEventListener('mouseout', function() {
				// get the current node index attribute
				var idx= this.getAttribute('index');
				// pauses the audio
				nodeListAudio[idx].pause();
				// resets it to the begining
				nodeListAudio[idx].currentTime = 0;
			}, false);
		}
    };
    window.onload = trapezeSound;
    
    function orchestral() {  
        var geral = document.getElementById('geral');
        var svg = document.getElementById('svg');
        var audio = document.getElementById('audio');
        
        svg.addEventListener('click', function(){
            audio.play();
            audio.volume = 0.3;
        }, false);
        
        geral.addEventListener('mousedown', function(){
            audio.pause();
            audio.currentTime = 0;
        }, false);
   
     };
    window.onclick = orchestral;
    
    </script>        
</html> 